{"version":3,"file":"js/95.5b38f11f.js","mappings":"sLACOA,MAAM,a,GAEJA,MAAM,Y,GACTC,EAAAA,EAAAA,IAAa,UAAT,QAAI,G,GAEDD,MAAM,Q,GACTC,EAAAA,EAAAA,IAAkD,SAA3CC,IAAI,UAAUF,MAAM,cAAa,MAAE,G,GASvCA,MAAM,Q,GACTC,EAAAA,EAAAA,IAAiE,SAA1DC,IAAI,wBAAwBF,MAAM,cAAa,OAAG,G,GAQtDA,MAAM,Y,6EAxBjBG,EAAAA,EAAAA,IAmCM,MAnCNC,EAmCM,EAlCJC,EAAAA,EAAAA,IAAsDC,EAAA,CAArCC,QAASC,EAAAC,WAAS,qBACnCR,EAAAA,EAAAA,IAgCM,MAhCNS,EAgCM,CA/BJC,GACAV,EAAAA,EAAAA,IA6BO,cA5BLA,EAAAA,EAAAA,IASM,MATNW,EASM,CARJC,GAAkD,SAClDZ,EAAAA,EAAAA,IAME,SALAa,KAAK,QACLd,MAAM,eACNe,GAAG,UACH,mBAAiB,YAZ7B,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAaqBT,EAAAU,QAAOD,I,iBAAPT,EAAAU,cAGbjB,EAAAA,EAAAA,IAQM,MARNkB,EAQM,CAPJC,GAAiE,SACjEnB,EAAAA,EAAAA,IAKE,SAvBZ,sBAAAe,EAAA,KAAAA,EAAA,GAAAC,GAmBqBT,EAAAa,SAAQJ,GACjBH,KAAK,WACLd,MAAM,eACNe,GAAG,yB,iBAHMP,EAAAa,eAMbpB,EAAAA,EAAAA,IAQM,MARNqB,EAQM,EAPJrB,EAAAA,EAAAA,IAMS,UALPa,KAAK,SACLd,MAAM,0CACLuB,QAAKP,EAAA,KAAAA,EAAA,IA7BlBQ,EAAAA,EAAAA,KAAAP,GA6B4BQ,EAAAC,SAAK,eACtB,e,wEC9BXC,IAAA,EAEsB3B,MAAM,mB,UACxBC,EAAAA,EAAAA,IAAmC,OAA9BD,MAAM,mBAAiB,W,GAA5BU,G,+BADSkB,EAAArB,UAAO,WAAlBJ,EAAAA,EAAAA,IAEM,MAFNC,EAFFO,KAAAkB,EAAAA,EAAAA,IAAA,M,CAoCA,OACEC,MAAO,CACLvB,QAAS,CACPO,KAAMiB,QACNC,SAAS,K,UCjCf,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QFiCA,GACEC,WAAY,CACVC,eAAcA,GAEhBC,IAAAA,GACE,MAAO,CACLlB,QAAS,GACTG,SAAU,GACVZ,WAAW,EAEf,EACA4B,OAAAA,GACEC,KAAKC,qBACP,EACAC,QAAS,CACPd,KAAAA,GACE,MAAMe,EAAM,oDACZH,KAAKI,MACFC,KAAKF,EAAK,CACTG,SAAUN,KAAKpB,QACfG,SAAUiB,KAAKjB,WAEhBwB,MAAMC,IAGL,GAFAC,QAAQC,IAAIF,GAERA,EAAIV,KAAKa,QAAS,CACpB,MAAMC,EAAQJ,EAAIV,KAAKc,MACjBC,EAAmBC,SAASN,EAAIV,KAAKiB,QAAS,IAC9CC,EAAc,IAAIC,KAAwB,IAAnBJ,GACvBK,EAAgBF,EAAYG,cAClCC,SAASC,OAAS,kBAAkBT,cAAkBM,YACtDlB,KAAKsB,QAAQC,KAAK,iBACpB,MACEC,MAAM,UACR,GAEN,EACAvB,mBAAAA,GACE,MAAMwB,EAAM,IAAIC,MAChBD,EAAIE,IACF,yKACFF,EAAIG,OAAS,KACX5B,KAAK7B,WAAY,CAAK,CAE1B,IG/EJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS0D,KAEpE,O","sources":["webpack://demo1/./src/views/BackLogin.vue","webpack://demo1/./src/components/LoadingSpinner.vue","webpack://demo1/./src/components/LoadingSpinner.vue?a81e","webpack://demo1/./src/views/BackLogin.vue?9555"],"sourcesContent":["<template>\n  <div class=\"loginWrap\">\n    <LoadingSpinner :visible=\"isLoading\"></LoadingSpinner>\n    <div class=\"loginBox\">\n      <h2>後台登入</h2>\n      <form>\n        <div class=\"mb-3\">\n          <label for=\"account\" class=\"form-label\">帳號</label>\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            id=\"account\"\n            aria-describedby=\"emailHelp\"\n            v-model=\"account\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"exampleInputPassword1\" class=\"form-label\">密碼 </label>\n          <input\n            v-model=\"password\"\n            type=\"password\"\n            class=\"form-control\"\n            id=\"exampleInputPassword1\"\n          />\n        </div>\n        <div class=\"btnGroup\">\n          <button\n            type=\"submit\"\n            class=\"btn btn-outline-primary loginBtn btn-lg\"\n            @click.prevent=\"login()\"\n          >\n            登入\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LoadingSpinner from \"@/components/LoadingSpinner.vue\";\n\nexport default {\n  components: {\n    LoadingSpinner,\n  },\n  data() {\n    return {\n      account: \"\",\n      password: \"\",\n      isLoading: true,\n    };\n  },\n  mounted() {\n    this.loadBackgroundImage();\n  },\n  methods: {\n    login() {\n      const api = `${process.env.VUE_APP_API_PATH}/admin/signin`;\n      this.$http\n        .post(api, {\n          username: this.account,\n          password: this.password,\n        })\n        .then((res) => {\n          console.log(res);\n\n          if (res.data.success) {\n            const token = res.data.token;\n            const expiresTimestamp = parseInt(res.data.expired, 10);\n            const expiresDate = new Date(expiresTimestamp * 1000);\n            const expiresString = expiresDate.toUTCString();\n            document.cookie = `backLoginToken=${token}; expires=${expiresString}; path=/`;\n            this.$router.push(\"/back/products\");\n          } else {\n            alert(\"帳號或密碼錯誤\");\n          }\n        });\n    },\n    loadBackgroundImage() {\n      const img = new Image();\n      img.src =\n        \"https://images.unsplash.com/photo-1470526446583-d0fe2363d8cb?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\";\n      img.onload = () => {\n        this.isLoading = false; // 图片加载完成，隐藏加载动画\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.loginWrap {\n  position: relative;\n  width: 100%;\n  height: 100vh;\n  overflow: hidden;\n\n  .loginBox {\n    width: 60%;\n    background-color: rgba($color: #eee, $alpha: 0.5);\n\n    position: absolute;\n    top: 15%;\n    left: 50%;\n    height: 50%;\n    transform: translateX(-50%);\n    border-radius: 1rem;\n    color: #222;\n    font-size: 1.5rem;\n    overflow: hidden;\n    box-shadow: 0 0 10px rgba($color: #eee, $alpha: 0.3);\n    form {\n      width: 90%;\n      margin: auto;\n      margin-top: 1.5rem;\n    }\n    h2 {\n      text-align: center;\n      font-size: 3rem;\n      letter-spacing: 0.25rem;\n      background-color: rgba($color: #fff, $alpha: 0.4);\n      padding: 1rem;\n    }\n    .btnGroup {\n      margin-top: 2.5rem;\n      text-align: center;\n    }\n    .loginBtn {\n      font-size: 1.5rem;\n    }\n  }\n}\n.loginWrap::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-image: url(\"https://images.unsplash.com/photo-1470526446583-d0fe2363d8cb?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\");\n  background-size: cover;\n  background-position: center;\n  background-attachment: fixed;\n  z-index: -1;\n  opacity: 0.8;\n}\n</style>\n","<!-- LoadingSpinner.vue -->\n<template>\n  <div v-if=\"visible\" class=\"loading-overlay\">\n    <div class=\"loading-spinner\"></div>\n  </div>\n</template>\n\n<style scoped>\n.loading-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n}\n.loading-spinner {\n  border: 8px solid rgba(0, 0, 0, 0.1);\n  border-left-color: #fff;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: spin 1s linear infinite;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>\n\n<script>\nexport default {\n  props: {\n    visible: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n","import { render } from \"./LoadingSpinner.vue?vue&type=template&id=2a640735&scoped=true\"\nimport script from \"./LoadingSpinner.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingSpinner.vue?vue&type=script&lang=js\"\n\nimport \"./LoadingSpinner.vue?vue&type=style&index=0&id=2a640735&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a640735\"]])\n\nexport default __exports__","import { render } from \"./BackLogin.vue?vue&type=template&id=28904faf\"\nimport script from \"./BackLogin.vue?vue&type=script&lang=js\"\nexport * from \"./BackLogin.vue?vue&type=script&lang=js\"\n\nimport \"./BackLogin.vue?vue&type=style&index=0&id=28904faf&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_1","_createVNode","_component_LoadingSpinner","visible","$data","isLoading","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","id","_cache","$event","account","_hoisted_6","_hoisted_7","password","_hoisted_8","onClick","_withModifiers","$options","login","key","$props","_createCommentVNode","props","Boolean","default","__exports__","components","LoadingSpinner","data","mounted","this","loadBackgroundImage","methods","api","$http","post","username","then","res","console","log","success","token","expiresTimestamp","parseInt","expired","expiresDate","Date","expiresString","toUTCString","document","cookie","$router","push","alert","img","Image","src","onload","render"],"sourceRoot":""}